<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Aug 10, 2012
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>nano-project :: h-ubu</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

          
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="stylesheet" type="text/css" href="./css/site.css"/>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="stylesheet" type="text/css" href="./css/font-awesome.css"/>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-1518442-11']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="shortcut icon" href="favicon.png"/>
          
    <meta name="Date-Revision-yyyymmdd" content="20120810" />
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/nano-project/h-ubu">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="#" id="bannerLeft">
                                                                                                <img src="h-ubu-small.png"  alt="h-ubu - JavaScript Componentization"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-08-10</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.0.1-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3>H-UBU</h3>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="motivations.html" title="Motivations and Concepts">Motivations and Concepts</a>
            </li>
                  <li class="none">
                          <a href="quickstart.html" title="Quickstart">Quickstart</a>
            </li>
          </ul>
                        <h3>User Guide</h3>
                  <ul>
                  <li class="none">
                          <a href="creating-and-registering-components.html" title="Creating and Registering Components">Creating and Registering Components</a>
            </li>
                  <li class="none">
                          <a href="providing-services.html" title="Providing Services">Providing Services</a>
            </li>
                  <li class="none">
                          <a href="requiring-services.html" title="Requiring Services">Requiring Services</a>
            </li>
                  <li class="none">
                          <a href="direct-injection.html" title="Direct Injection">Direct Injection</a>
            </li>
                  <li class="none">
                          <a href="receiving-and-sending-events.html" title="Receiving and Sending Events">Receiving and Sending Events</a>
            </li>
                  <li class="none">
                          <a href="testing-components.html" title="Testing Components">Testing Components</a>
            </li>
          </ul>
                        <h3>Advanced Topics</h3>
                  <ul>
                  <li class="none">
                          <a href="using-requirejs.html" title="Using require.js">Using require.js</a>
            </li>
                  <li class="none">
                          <a href="using-nodejs.html" title="Using h-ubu in node.js">Using h-ubu in node.js</a>
            </li>
                  <li class="none">
            <strong>Contract and Conformity</strong>
          </li>
                  <li class="none">
                          <a href="service-orientation.html" title="Service-Orientation">Service-Orientation</a>
            </li>
                  <li class="none">
                          <a href="developper-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
          </ul>
                        <h3>Project Documentation</h3>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://nano-project.github.com/h-ubu" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://github.com/nano-project/h-ubu" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Contracts</h1>

<p>Each <em>hub</em> has its own service registry, containing the set of services published by components plugged into the hub. 
The services are described using <em>contracts</em>. A contract is a simple JavaScript object containing <em>body-less</em> functions:</p>

<pre><code>var myContract = {
    doSomething : function() {},
    sayHello : function() {}
};
</code></pre>

<p>Contracts are used as service specifications by H-Ubu. So, components publish and require contracts. This reduces the
coupling between components. It also offers visibility control. Components using services have access to the methods
from the contract only, and so all 'implementation details' are kept private.</p>

<h1>Conformity</h1>

<p>Components providing services have to conform to the published contract. As stated above, a contract is a kind of
interface. So the conformity rule is as follows:</p>

<p><code>O conforms to a contract C if and only if:for all i in C where C[i] != null =&gt; O[i] != null &amp;&amp; typeof(C[i]) = typeOf(O[i])</code></p>

<p>It simply means that all properties from the contract must exist in the component implementing the contract, and the
type must be the very same (functions are functions, objects are objects...).</p>

<h1>Note about system, model and metamodel</h1>

<p>This conformity definition is an implementation of 'Chi' in <code>Metamodel &lt;- chi &lt;- Model -&gt; mu -&gt; System</code> where chi is
<code>isObjectConformToContract</code> and mu is <code>representationOf</code>.</p>

<p>Components can implement contracts. When correctly implemented, the component conforms to the contract. Components can
use other components through contracts. The component can access only methods and fields defined in the contract.</p>

<h1>Note about Contract scoping</h1>

<p>In order to ensure that a component has access only to the contract-part of the component, a proxy containing only the
contract is injected by default.</p>

<h1>Abstract Component Contract</h1>

<p>Each component must conform to the <code>AbstractComponent</code> contract:</p>

<pre><code>/**
 * Creates an abstract component. This method is not intended to be used,
 * and is just here for documentation purposes. Indeed, the returned object
 * contains the four required methods that &lt;bold&gt;all&lt;/bold&gt; components must
 * have. Any JavaScript object with those 4 methods can be considered as a
 * valid component.
 * The four required methods are:
 *&lt;ul&gt;
 * &lt;li&gt;&lt;code&gt;getComponentName()&lt;code&gt; : return the default component name&lt;/li&gt;
 * &lt;li&gt;&lt;code&gt;configure(hub, [configuration])&lt;/code&gt; : configures the component&lt;/li&gt;
 * &lt;li&gt;&lt;code&gt;start()&lt;/code&gt; : called when the component is started&lt;/li&gt;
 * &lt;li&gt;&lt;code&gt;stop()&lt;/code&gt; : called when the component is stopped&lt;/li&gt;
 * &lt;/ul&gt;
 * Returned objects are not intended to be used, they are just mock/empty instances.
 * @constructor
 */
HUBU.AbstractComponent = function() {

    /**
     * Gets the component's name.
     * If an 'id' is given in the hub configuration, this method is replaced.
     * @return the component name
     */
    this.getComponentName = function() {        throw "AbstractComponent is an abstract class";    }

    /**
     * Configures the component.
     * This method is called by the hub when the component starts or
     * when the component is plugged in, if the hub is already started.
     * @param hub the hub
     * @param configuration optional parameter used to pass the compoment
     * configuration. The configuration object is a simple map &lt;code&gt;
     * key/value&lt;/code&gt;.
     */
    this.configure = function(hub, configuration) {        throw "AbstractComponent is an abstract class";    }

    /**
     * Starts the component.
     * This method is called by the hub when the hub starts or
     * when the component is plugged in, if the hub is already started.
     * This method is always called after the configure method.
     * Once called, the component can send events and use bound
     * components.
     */
    this.start = function() {        throw "AbstractComponent is an abstract class";    }

    /**
     * Stop the component.
     * This method is called by the hub when the hub is stopped or
     * when the component is unplugged.
     * This method is always called after the start method.
     * Once called, the component must not send events or
     * access bound components.
     */
    this.stop = function() {        throw "AbstractComponent is an abstract class";    }
};
</code></pre>

<p>So, all components must contain these methods.</p>

                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2010-2012
                        <a href="http://www.arrow-group.eu/">Arrow-Group</a>.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
